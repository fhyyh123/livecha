# Copy to .env and fill with strong secrets before running docker compose
#
# Recommended:
# - POSTGRES_PASSWORD: strong random
# - MINIO_ROOT_PASSWORD: strong random
# - JWT_SECRET: >= 32 bytes random
# - WIDGET_PUBLIC_SCRIPT_BASE_URL: https://app.your-domain.com
# - WIDGET_PUBLIC_EMBED_URL: https://app.your-domain.com/visitor/embed
# - S3_PUBLIC_ENDPOINT: https://s3.your-domain.com

POSTGRES_DB=chatlive
POSTGRES_USER=chatlive
POSTGRES_PASSWORD=change-me
POSTGRES_PORT=5432

REDIS_PORT=6380

MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=change-me
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

APP_PORT=8080

# Brand name used in emails/UI copy (optional)
APP_BRAND_NAME=LiveCha

# Backend image tag to run (must match the tag you built/exported)
CHATLIVE_BACKEND_IMAGE_TAG=prod-20260111

JWT_SECRET=dev-secret-change-me-please-32bytes-min

WIDGET_PUBLIC_SCRIPT_BASE_URL=https://app.example.com
WIDGET_PUBLIC_EMBED_URL=https://app.example.com/visitor/embed

# Base URL used in invite emails
# Example: https://my.verexc.com
APP_ONBOARDING_FRONTEND_BASE_URL=https://app.example.com

# Dev-only: include raw accept-invite links in API responses
APP_ONBOARDING_DEV_RETURN_LINKS=false

# GeoIP (optional, offline MaxMind GeoLite2)
#
# Provide a local GeoLite2-City.mmdb file path to enable visitor geo enrichment.
# The IP address is only used for lookup and is NOT returned to frontend/UI.
#
# If empty, GeoIP is disabled.
# Recommended with docker compose: mount the mmdb into container and set APP_GEOIP_DB_PATH accordingly.
# Example:
#   - mount: /opt/chatlive/geoip/GeoLite2-City.mmdb -> /data/GeoLite2-City.mmdb (read-only)
#   - set:   APP_GEOIP_DB_PATH=/data/GeoLite2-City.mmdb
APP_GEOIP_DB_PATH=/data/GeoLite2-City.mmdb

# Refresh visitor geo cache if older than TTL (seconds). Default: 21600 (6h)
APP_GEOIP_REFRESH_TTL_SECONDS=21600

S3_ENABLED=true
S3_INTERNAL_ENDPOINT=http://minio:9000
S3_PUBLIC_ENDPOINT=https://s3.example.com
S3_REGION=us-east-1
S3_ACCESS_KEY=minio
S3_SECRET_KEY=change-me
S3_BUCKET=chatlive
S3_PATH_STYLE_ACCESS=true
S3_PRESIGN_TTL_SECONDS=600
S3_MAX_UPLOAD_BYTES=20971520

# Email (Gmail SMTP) - used for registration verification emails & invites
#
# Notes for Gmail:
# - Strongly recommended: enable 2FA and create an "App Password" (not your normal Gmail password)
# - SMTP is STARTTLS on port 587
#
# Disabled by default to avoid accidental sends.
APP_EMAIL_ENABLED=false

# Gmail SMTP settings (Spring Boot mail)
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=
SPRING_MAIL_PASSWORD=
SPRING_MAIL_SSL_TRUST=smtp.gmail.com

# Optional: override "From" address; if empty, backend uses SPRING_MAIL_USERNAME
APP_EMAIL_FROM=
